{"version":3,"sources":["logo.svg","components/Game/Background.js","components/Game/Player.js","components/Game/Level.js","components/Game/Platform.js","components/Game/Item.js","components/Game/data.js","components/Game/Images.js","components/Game/GameController.js","components/Game/Game.js","components/AuthService/authService.js","components/Navbar/Navbar.jsx","components/Auth/Signup.jsx","components/Auth/Login.jsx","api/pieceService.js","components/Piece/Piece.jsx","api/levelService.js","components/LevelCreator/LevelCreator.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Background","ctx","w","h","src","arguments","length","undefined","Object","classCallCheck","this","img","Image","x","y","dx","drawImage","Player","game","lx","ly","frames","framesTo","framesFrom","frameIndex","framesX","framesY","framesW","framesH","vxInitial","vx","vy","keys","jumping","doubleJumping","jumpDown","dashDown","breakDownDown","collectableItems","gravityVelocity","jumpVelocity","doubleJumpVelocity","abailableDash","dashVelocity","dashCheck","dahsFrames","dashing","abailableDoubleJump","abailableBreakDown","breakDownVelocity","breakingDown","setListeners","prototype","draw","Math","floor","width","height","moveRight","platformColision","i","moveLeft","jump","dash","LEFT_KEY","framesCounter","RIGHT_KEY","breakDown","move","setAnimationParams","animateRun","document","onkeydown","e","keyCode","SPACE","D_KEY","F_KEY","bind","onkeyup","gravity","platformColisionFloor","platformColisionElem","elements","platforms","forEach","platform","col","indexP","index","isDashBreakable","splice","isDownBreakable","itemColision","item","damageColision","damageItems","powerColision","powerItems","animateImg","animateDash","Level","frontImages","backImages","background","playerX","playerY","Platform","Item","isActive","damage","type","data","level","player","Images","GameController","canvas","fps","TOP_KEY","currentLevel","levels","canvasId","getContext","reset","loadData","loadLevel","interval","setInterval","clear","detectItemCollision","detectDamageCollision","detectPowerCollision","drawAll","clearRect","collectItem","animateItem","damageItem","powerItem","images","drawBackImages","drawPlatforms","drawCollectItems","drawDamageItems","drawPowerItems","drawFrontImages","colItem","push","changeLevel","loadLevelData","totalGame","nivel","collectableItem","backImage","frontImage","Component","AuthService","_this","signup","username","password","console","log","service","post","then","response","login","loggedin","get","logout","axios","create","baseURL","concat","process","withCredentials","Navbar","props","possibleConstructorReturn","getPrototypeOf","call","handleLogout","state","loggedInUser","nextProps","setState","objectSpread","react_default","a","createElement","className","onClick","Link","to","Signup","handleFormSubmit","event","preventDefault","getUser","user","catch","error","handleChange","_event$target","target","name","value","defineProperty","_this2","onSubmit","onChange","Login","errorHandler","err","message","pieceService","handleUpload","file","formData","FormData","append","headers","Content-Type","res","saveNewThing","newThing","Piece","_e$target","handleChecked","checked","handleFileUpload","files","photoData","url","handleSubmit","animated","style","display","levelService","getPieces","params","saveNewLevel","LevelCreator","handleSelectChange","_e$target2","pieces","handlePieceSelection","selectedPiece","creator","_id","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","isSelected","newPlatform","piece","Number","getAttribute","newPlatforms","toConsumableArray","newFrontImage","newFrontImages","newBackImage","newBackImages","newPlayer","resArrX","resArrY","cellStyle","backgroundColor","border","arrH","j","key","row","column","onMouseEnter","mouseEnter","onMouseLeave","mouseLeave","mouseClick","divStyle","gridTemplateColumns","gridTemplateRows","piecesList","map","alt","id","App","userObj","_this3","fetchUser","components_Navbar_Navbar","userInSession","Switch","Route","path","component","components_LevelCreator_LevelCreator","components_Piece_Piece","exact","render","Auth_Signup","Auth_Login","Boolean","window","location","hostname","match","ReactDOM","BrowserRouter","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5b308b80.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","export default class Background {\n\n    constructor(ctx, w, h, src=\"../../../images/black.png\"){\n        this.ctx = ctx;\n        this.img = new Image();\n        this.img.src = src;\n        \n        this.x = 0;\n        this.y = 0;\n        this.w = w;\n        this.h = h;\n    \n        this.dx = 10;\n    }\n\n    draw () {\n        this.ctx.drawImage(this.img, this.x, this.y, this.w, this.h);\n    };\n      \n}","export default function Player(game) {\n    this.game = game;\n   \n    this.x = 100;\n    this.y = 100;\n\n    //last position\n    this.lx = this.x;\n    this.ly = this.y;\n  \n    this.img = new Image();\n    this.img.src = '../../../images/greenBall.png';\n\n    // número de imágenes diferentes\n    this.img.frames = 12;\n    this.img.framesTo = 0;\n    this.img.framesFrom = 0;\n    this.img.frameIndex = 0;\n    this.img.framesX = 0;\n    this.img.framesY = 0;\n    this.img.framesW = 0;\n    this.img.framesH = 0;\n   \n\n    \n    // medidas de la imagen a representar en el canvas\n    this.w = 27;\n    this.h = 44;\n\n    //velocidad\n    this.vxInitial = 5;\n    this.vx = 5;\n    this.vy = 5;\n\n    this.keys = [];\n\n    this.jumping = false;\n    this.doubleJumping = false;\n    this.jumpDown = false;\n    this.dashDown = false;\n    this.breakDownDown = false;\n\n    this.collectableItems = [];\n\n    this.gravityVelocity= 1.5;\n\n    this.jumpVelocity = 20;\n    this.doubleJumpVelocity = 15;\n\n    this.abailableDash = false;\n    this.dashVelocity = 20;\n    this.dashCheck = 0;\n    this.dahsFrames = 10;\n    this.dashing = false;\n\n    this.abailableDoubleJump = false;\n\n    this.abailableBreakDown = false;\n    this.breakDownVelocity = 40;\n    this.breakingDown = false;\n\n    this.setListeners();\n\n}\n\n/*\n    Dibuja el personaje en pantalla\n*/\nPlayer.prototype.draw = function() {\n    this.game.ctx.drawImage(\n        this.img,\n        this.img.frameIndex * Math.floor(this.img.width / this.img.frames)+this.img.framesX,\n        this.img.framesY,\n        Math.floor(this.img.width / this.img.frames)+this.img.framesW,\n        this.img.height+this.img.framesH,\n        this.x,\n        this.y,\n        this.w,\n        this.h\n        );\n}\n\n/*\n    Mueve hacia la derecha y si detecta una colision vuelve a la posicion anterior\n*/\nPlayer.prototype.moveRight = function(){\n    this.lx = this.x\n    this.x += this.vx;\n    if(this.platformColision()){\n        for(var i = this.vx; this.platformColision(); i--){\n            this.x -= 1\n        }\n    }\n\n}\n\n/*\n    Mueve hacia la izquierda y si detecta una colision vuelve a la posicion anterior\n*/\nPlayer.prototype.moveLeft = function(){\n    this.lx = this.x\n    this.x -= this.vx;\n    if(this.platformColision()){\n        for(var i = this.vx; this.platformColision(); i--){\n            this.x += 1\n        }\n    }\n}\n\n/*\n    Salta si le esta permitido\n*/\nPlayer.prototype.jump = function(){\n    if(!this.jumping){\n        this.jumping = true;\n        this.vy -= this.jumpVelocity;\n    }else if(!this.doubleJumping && this.abailableDoubleJump){\n        this.doubleJumping = true;\n        this.vy -= (this.vy+this.doubleJumpVelocity);\n    }\n}\n\n/*\n    Hace el dash si le esta permitido\n    para ello comprueba las colisiones pixel a pixel con el for\n*/\nPlayer.prototype.dash = function(){\n    if(this.abailableDash && this.keys[this.game.keys.LEFT_KEY]){\n        this.dashCheck = this.game.framesCounter + this.dahsFrames;\n        this.vx = this.dashVelocity;\n        this.dashing = true;\n        // for(var i=0; i<=this.dashVelocity; i++){\n        //     this.lx = this.x\n        //     this.x -= i;\n        //     if(this.platformColision()){\n        //         this.x = this.lx\n        //     }\n        // }\n    } else if(this.abailableDash && this.keys[this.game.keys.RIGHT_KEY]){\n        this.dashCheck = this.game.framesCounter + this.dahsFrames;\n        this.vx = this.dashVelocity;\n        this.dashing = true;\n        // for(var i=0; i<=this.dashVelocity; i++){\n        //     this.lx = this.x\n        //     this.x += i;\n        //     if(this.platformColision()){\n        //         this.x = this.lx\n        //     }\n        // }\n    }\n}\n\nPlayer.prototype.breakDown = function(){\n    if(this.abailableBreakDown && this.jumping){\n        this.vy += this.breakDownVelocity;\n        // for(var i=0; i<=this.breakDownVelocity; i++){\n        //     this.ly = this.y\n        //     this.y += i;\n        //     if(this.platformColision()){\n        //         this.y = this.ly\n        //     }\n        // }\n    } \n}\n\nPlayer.prototype.move = function(){\n    if(this.game.framesCounter > this.dashCheck % 1000){\n        this.vx = this.vxInitial;\n        this.dashing = false;\n    }\n    if (this.keys[this.game.keys.LEFT_KEY]) {\n        this.moveLeft();\n        if(this.vx >= this.dashVelocity){\n            this.setAnimationParams(9,9)\n        } else{\n            this.setAnimationParams(0,3)\n        }\n    } else if (this.keys[this.game.keys.RIGHT_KEY]) {\n        this.moveRight();\n        if(this.vx >= this.dashVelocity){\n            this.setAnimationParams(10,10)\n        } else{\n            this.setAnimationParams(4,7)\n        }\n    }else{\n        if(this.vy >= this.breakDownVelocity){\n            this.setAnimationParams(11,11)\n        }else{\n            this.setAnimationParams(8,8)\n        }\n    }\n    this.animateRun();\n   \n}\n\n/*\n    Captura las pulsaciones de teclas\n    Se guarda en un array la tecla pulsada en la posicion keycode con valor true en caso de que este pulsada\n    Si se deja de pulsar, si quita del array la posicion keycode\n    En caso de que se pulse espacio comprueba que tengas que levantar la tecla para volver a saltar\n*/\nPlayer.prototype.setListeners = function() {\n    document.onkeydown = (function (e) {\n        if (e.keyCode == this.game.keys.SPACE) {\n            if(!this.jumpDown){\n                this.jump();\n                this.jumpDown = true;\n            }\n        } else if (e.keyCode == this.game.keys.D_KEY) {\n            if(!this.dashDown){\n                this.dash();\n                this.dashDown = true;\n            }\n        } else if (e.keyCode == this.game.keys.F_KEY) {\n            if(!this.breakDownDown){\n                this.breakDown();\n                this.breakDownDown = true;\n            }\n        } else {\n            this.keys[e.keyCode] = true;\n        }\n    }.bind(this));\n\n    document.onkeyup = (function (e) {\n        if (e.keyCode == this.game.keys.SPACE) {\n            this.jumpDown = false;\n        }else if (e.keyCode == this.game.keys.D_KEY) {\n            this.dashDown = false;\n        }else if (e.keyCode == this.game.keys.F_KEY) {\n            this.breakDownDown = false;\n        }else {\n            delete this.keys[e.keyCode];\n        }\n    }.bind(this));\n}\n\n/*\n   Para la gravedad se da aceleracion aumentando la velocidad\n   Se cambia la posicion sumando la velocidad a la posicion\n   Se controla que haya colision con el suelo para podel saltar\n   Si hay colision vuelvo a la posicion anterior y pongo la velocidad se resetea\n*/\nPlayer.prototype.gravity = function(){\n    this.ly = this.y;\n    this.vy += this.gravityVelocity;\n    this.y += this.vy;\n    if(this.platformColisionFloor()){\n        this.jumping = false;\n        this.doubleJumping = false;\n    }\n    if(this.platformColision()){\n        this.y = this.ly;\n        this.vy = 0;\n    }\n}\n\n/*\n    Coprueba si hay colision y devuelve el elemento con el que colisiona\n*/\nPlayer.prototype.platformColisionElem = function(elements){\n    var col = false;\n    var p = undefined;\n    this.game.platforms.forEach(function(platform){\n        if (this.x + this.w >= platform.x &&\n            platform.x + platform.w >= this.x &&\n            this.y + this.h >= platform.y &&\n            platform.y + platform.h >= this.y\n            ){\n               p = platform\n            }\n    }.bind(this))\n    return p;\n}\n\n/*\n    Coprueba si hay colision y devuelve true\n*/\nPlayer.prototype.platformColision = function(elements){\n    var col = false\n    var p = undefined;\n    var indexP = 0;\n    this.game.platforms.forEach(function(platform, index){\n        if (this.x + this.w > platform.x &&\n            platform.x + platform.w >= this.x &&\n            this.y + this.h > platform.y &&\n            platform.y + platform.h > this.y\n            ){\n              col = true;\n              p = platform;\n              indexP = index;\n            }\n    }.bind(this))\n\n    if(this.dashing){\n        if(p && p.isDashBreakable){\n            this.game.platforms.splice(indexP,1)\n        }\n    }\n    if(this.vy>=this.breakDownVelocity){\n        if(p && p.isDownBreakable){\n            this.game.platforms.splice(indexP,1)\n        }\n    }\n    return col;\n}\n\n/*\n    Coprueba si hay colision con la base, como si fuese el suelo\n*/\nPlayer.prototype.platformColisionFloor = function(){\n    var col = false\n    this.game.platforms.forEach(function(platform){\n        if (this.x + this.w > platform.x &&\n            platform.x + platform.w >= this.x &&\n            this.y + this.h> platform.y &&\n            platform.y + platform.h > this.y + this.h\n            ){\n              col = true;\n            }\n    }.bind(this))\n    return col;\n}\n\n/*\n    Coprueba si hay colision con el item y devuelve true\n*/\nPlayer.prototype.itemColision = function(elements){\n    var col = -1\n    this.game.collectableItems.forEach(function(item, index){\n        if (this.x + this.w > item.x &&\n            item.x + item.w >= this.x &&\n            this.y + this.h > item.y &&\n            item.y + item.h > this.y\n            ){\n              col = index;\n            }\n    }.bind(this))\n    return col;\n}\n\nPlayer.prototype.damageColision = function(elements){\n    var col = -1\n    this.game.damageItems.forEach(function(item, index){\n        if (this.x + this.w > item.x &&\n            item.x + item.w >= this.x &&\n            this.y + this.h > item.y &&\n            item.y + item.h > this.y\n            ){\n              col = index;\n            }\n    }.bind(this))\n    return col;\n}\n\nPlayer.prototype.powerColision = function(elements){\n    var col = -1\n    this.game.powerItems.forEach(function(item, index){\n        if (this.x + this.w > item.x &&\n            item.x + item.w >= this.x &&\n            this.y + this.h > item.y &&\n            item.y + item.h > this.y\n            ){\n              col = index;\n            }\n    }.bind(this))\n    return col;\n}\n\nPlayer.prototype.animateImg = function() {\n    // se va cambiando el frame. Cuanto mayor es el módulo, mas lento se mueve el personaje\n    if (this.game.framesCounter % 2 === 0) {\n      this.img.frameIndex += 1;\n  \n      // Si el frame es el último, se vuelve al primero\n      if (this.img.frameIndex > 25) this.img.frameIndex = 0;\n    }\n  };\n\n  Player.prototype.animateRun = function() {\n      \n    // se va cambiando el frame. Cuanto mayor es el módulo, mas lento se mueve el personaje\n    if(this.img.frameIndex<this.img.framesFrom){\n        this.img.frameIndex=this.img.framesFrom\n    }\n    if (this.game.framesCounter % 9 === 0) {\n      this.img.frameIndex += 1;\n      // Si el frame es el último, se vuelve al primero\n      if (this.img.frameIndex > this.img.framesTo) this.img.frameIndex = this.img.framesFrom;\n    }\n  };\n\n  Player.prototype.animateDash = function() {\n      \n    // se va cambiando el frame. Cuanto mayor es el módulo, mas lento se mueve el personaje\n    if(this.img.frameIndex<this.img.framesFrom){\n        this.img.frameIndex=this.img.framesFrom\n    }\n    if (this.game.framesCounter % 10 === 0) {\n      this.img.frameIndex += 1;\n      // Si el frame es el último, se vuelve al primero\n      if (this.img.frameIndex > this.img.framesTo) this.img.frameIndex = this.img.framesFrom;\n    }\n  };\n\n  Player.prototype.setAnimationParams = function(framesFrom, framesTo, framesX=0, framesY=0, framesW=0, framesH=0) {\n    this.img.framesFrom = framesFrom;\n    this.img.framesTo = framesTo;\n    this.img.framesX = framesX;\n    this.img.framesY = framesY;\n    this.img.framesW = framesW;\n    this.img.framesH = framesH;\n  };\n\n","import Background from \"./Background\";\n\nexport default class Level{\n    constructor(){\n        this.platforms = [];\n        this.collectableItems = [];\n        this.damageItems = [];\n        this.powerItems = [];\n        this.frontImages=[];\n        this.backImages=[];\n        this.background = new Background();\n        this.playerX = 0;\n        this.playerY = 0;\n    }\n}\n\n","export default class Platform{\n    constructor(game, src, x, y, w, h, isDashBreakable = false, isDownBreakable = false){\n        this.game = game;\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n        this.isDashBreakable = isDashBreakable;\n        this.isDownBreakable = isDownBreakable;\n        // número de imágenes diferentes\n        this.img = new Image();\n        this.img.src = src;\n        this.img.frames = 1;\n        this.img.framesTo = 1;\n        this.img.framesFrom = 1;\n        this.img.frameIndex = 0;\n        this.img.framesX = 0;\n        this.img.framesY = 0;\n        this.img.framesW = 0;\n        this.img.framesH = 0;\n    }\n\n    draw(){\n        this.game.ctx.drawImage(\n            this.img,\n            this.img.frameIndex * Math.floor(this.img.width / this.img.frames)+this.img.framesX,\n            this.img.framesY,\n            Math.floor(this.img.width / this.img.frames)+this.img.framesW,\n            this.img.height+this.img.framesH,\n            this.x,\n            this.y,\n            this.w,\n            this.h\n        );\n        \n    }\n\n}\n","export default class Item {\n\n    constructor(ctx,src, x, y, w, h, isActive, damage=false, type=\"\"){\n        this.ctx = ctx;\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n        this.isActive = isActive;\n        this.type = type;\n        this.img = new Image();\n        this.img.src = src;\n        this.damage = damage;\n        // número de imágenes diferentes\n        this.img.frames = 4;\n        this.img.framesTo = 3;\n        this.img.framesFrom = 0;\n        this.img.frameIndex = 0;\n        this.img.framesX = 0;\n        this.img.framesY = 0;\n        this.img.framesW = 0;\n        this.img.framesH = 0;\n    }\n\n    draw(){\n        if(this.isActive){\n            this.ctx.drawImage(\n                this.img,\n                this.img.frameIndex * Math.floor(this.img.width / this.img.frames)+this.img.framesX,\n                this.img.framesY,\n                Math.floor(this.img.width / this.img.frames)+this.img.framesW,\n                this.img.height+this.img.framesH,\n                this.x,\n                this.y,\n                this.w,\n                this.h\n            );\n        }\n    }\n\n    animateItem(framesCounter) {\n        \n        // se va cambiando el frame. Cuanto mayor es el módulo, mas lento se mueve el personaje\n        if(this.img.frameIndex<this.img.framesFrom){\n            this.img.frameIndex=this.img.framesFrom\n        }\n        if (framesCounter % 10 === 0) {\n        this.img.frameIndex += 1;\n        // Si el frame es el último, se vuelve al primero\n        if (this.img.frameIndex > this.img.framesTo) this.img.frameIndex = this.img.framesFrom;\n        }\n    };\n\n    setAnimationParams(framesFrom, framesTo, framesX=0, framesY=0, framesW=0, framesH=0) {\n        this.img.framesFrom = framesFrom;\n        this.img.framesTo = framesTo;\n        this.img.framesX = framesX;\n        this.img.framesY = framesY;\n        this.img.framesW = framesW;\n        this.img.framesH = framesH;\n    };\n    \n}   \n\n\n// function HelloItem(game, x, y, w, h, isActive){\n//     Item.call(this, game, x, y, w, h, isActive);\n//     this.type = \"hello\";\n//     this.img = new Image();\n//     this.img.src = 'img/hello_anim.png';\n//     // número de imágenes diferentes\n//     this.setAnimationParams(0,7)\n//     this.img.frames = 8;\n//     this.img.frameIndex = 1;\n// }\n// HelloItem.prototype = Object.create(Item.prototype);\n// HelloItem.prototype.constructor = HelloItem;\n\n// function WorldItem(game, x, y, w, h, isActive){\n//     Item.call(this, game, x, y, w, h, isActive);\n//     this.type = \"world\";\n//     this.img = new Image();\n//     this.img.src = 'img/world_anim.png';\n//     // número de imágenes diferentes\n//     this.setAnimationParams(0,7)\n//     this.img.frames = 8;\n//     this.img.frameIndex = 1;\n// }\n// WorldItem.prototype = Object.create(Item.prototype);\n// WorldItem.prototype.constructor = WorldItem;\n\n// function EndItem(game, x, y, w, h, isActive){\n//     Item.call(this, game, x, y, w, h, isActive);\n//     this.type = \"end\";\n//     this.img = new Image();\n//     this.img.src = 'img/p_low_end_anim.png';\n//     // número de imágenes diferentes\n//     this.setAnimationParams(0,7)\n//     this.img.frames = 8;\n//     this.img.frameIndex = 1;\n// }\n// EndItem.prototype = Object.create(Item.prototype);\n// EndItem.prototype.constructor = EndItem;\n\n\n\n","export default [\n    {\n        level: 0,\n        platforms: [\n            {\n                img: \"../../../images/black.png\",\n                x: 0,\n                y: 0,\n                w: 2,\n                h: 600\n            },\n            {\n                img: \"../../../images/black.png\",\n                x: 0,\n                y: 480,\n                w: 1200,\n                h: 2\n            },\n            {\n                img: \"../../../images/black.png\",\n                x: 1200,\n                y: 0,\n                w: 2,\n                h: 600\n            }\n        ],\n        collectableItems: [\n            {\n                x: 590,\n                y: 360,\n                w: 50,\n                h: 50,\n                isActive: true,\n                src: \"../../../images/greenBall.png\"\n            },\n        ],\n        background: {\n            src:\"../../../images/grey.png\"\n        },\n        player : {\n            x: 50,\n            y: 350\n        }\n    }\n\n    // {\n    //     level: 1,\n    //     platforms: [\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 0,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         },\n    //         {\n    //             img: \"../../images/transparent.png\",\n    //             x: 0,\n    //             y: 480,\n    //             w: 1200,\n    //             h: 2\n    //         },\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 1200,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         }\n    //         ,\n    //         {\n    //             img: \"../../images/break5.png\",\n    //             x: 990,\n    //             y: 340,\n    //             w: 70,\n    //             h: 130,\n    //             isDashBreakable:true\n\n    //         },\n    //         {\n    //             img: \"../../images/plat1.png\",\n    //             x: 980,\n    //             y: 300,\n    //             w: 300,\n    //             h: 60\n\n    //         }\n    //     ],\n    //     collectableItems: [\n    //         {\n    //             x: 1090,\n    //             y: 360,\n    //             w: 50,\n    //             h: 50,\n    //             isActive: true,\n    //             src: \"../../images/item.png\"\n    //         },\n    //     ],\n    //     powerItems: [\n    //         {\n    //             x: 590,\n    //             y: 390,\n    //             w: 40,\n    //             h: 40,\n    //             isActive: true,\n    //             src: \"../../images/power1.png\",\n    //             type:\"dash\"\n    //         }\n    //     ],\n    //     background: {\n    //         src:\"../../images/fondo0_7.png\"\n    //     },\n    //     frontImages: [\n    //         {\n    //             x: 100,\n    //             y: 300,\n    //             w: 150,\n    //             h: 300,\n    //             src: \"../../images/stone8.png\",\n    //         },\n    //         {\n    //             x: 215,\n    //             y: 400,\n    //             w: 180,\n    //             h: 200,\n    //             src: \"../../images/stone6.png\",\n    //         }\n    //     ],\n    //     player : {\n    //         x: 50,\n    //         y: 350\n    //     }\n    // },\n\n    // {\n    //     level: 2,\n    //     platforms: [\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 0,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         },\n    //         {\n    //             img: \"../../images/transparent.png\",\n    //             x: 0,\n    //             y: 480,\n    //             w: 1200,\n    //             h: 2\n    //         },\n    //         {\n    //             img: \"../../images/break7.png\",\n    //             x: 1010,\n    //             y: 300,\n    //             w: 190,\n    //             h: 40,\n    //             isDownBreakable:true\n\n    //         },\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 1200,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         },\n    //         {\n    //             img: \"../../images/columna1.png\",\n    //             x: 860,\n    //             y: 390,\n    //             w: 70,\n    //             h: 80\n\n    //         },\n    //         {\n    //             img: \"../../images/columna2.png\",\n    //             x: 940,\n    //             y: 300,\n    //             w: 70,\n    //             h: 170\n\n    //         }\n    //     ],\n    //     collectableItems: [\n    //         {\n    //             x: 1060,\n    //             y: 360,\n    //             w: 50,\n    //             h: 50,\n    //             isActive: true,\n    //             src: \"../../images/item.png\"\n    //         },\n    //     ],\n    //     powerItems: [\n    //         {\n    //             x: 590,\n    //             y: 390,\n    //             w: 40,\n    //             h: 40,\n    //             isActive: true,\n    //             src: \"../../images/power2.png\",\n    //             type:\"down\"\n    //         }\n    //     ],\n    //     background: {\n    //         src:\"../../images/fondo0_6.png\"\n    //     },\n    //     frontImages: [\n    //         {\n    //             x: 100,\n    //             y: 300,\n    //             w: 150,\n    //             h: 300,\n    //             src: \"../../images/stone8.png\",\n    //         },\n    //         {\n    //             x: 215,\n    //             y: 400,\n    //             w: 180,\n    //             h: 200,\n    //             src: \"../../images/stone6.png\",\n    //         }\n    //     ],\n    //     player : {\n    //         x: 50,\n    //         y: 350\n    //     }\n    // },\n\n    // {\n    //     level: 4,\n    //     platforms: [\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 0,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         },\n    //         {\n    //             img: \"../../images/transparent.png\",\n    //             x: 0,\n    //             y: 480,\n    //             w: 1200,\n    //             h: 2\n    //         },\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 1200,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         },\n    //         {\n    //             img: \"../../images/columna2.png\",\n    //             x: 940,\n    //             y: 300,\n    //             w: 70,\n    //             h: 170\n\n    //         }\n    //     ],\n    //     collectableItems: [\n    //         {\n    //             x: 1060,\n    //             y: 360,\n    //             w: 50,\n    //             h: 50,\n    //             isActive: true,\n    //             src: \"../../images/item.png\"\n    //         },\n    //     ],\n    //     powerItems: [\n    //         {\n    //             x: 590,\n    //             y: 390,\n    //             w: 40,\n    //             h: 40,\n    //             isActive: true,\n    //             src: \"../../images/power3.png\",\n    //             type:\"jump\"\n    //         }\n    //     ],\n    //     background: {\n    //         src:\"../../images/fondo0_8.png\"\n    //     },\n    //     frontImages: [\n    //         {\n    //             x: 100,\n    //             y: 300,\n    //             w: 150,\n    //             h: 300,\n    //             src: \"../../images/stone8.png\",\n    //         },\n    //         {\n    //             x: 215,\n    //             y: 400,\n    //             w: 180,\n    //             h: 200,\n    //             src: \"../../images/stone6.png\",\n    //         }\n    //     ],\n    //     player : {\n    //         x: 50,\n    //         y: 350\n    //     }\n    // },\n\n    // {\n    //     level: 4,\n    //     platforms: [\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 0,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         },\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 0,\n    //             y: 600,\n    //             w: 1200,\n    //             h: 2\n    //         },\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 1200,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         }\n    //     ],\n    //     collectableItems: [\n    //         {\n    //             x: 1080,\n    //             y: 540,\n    //             w: 50,\n    //             h: 50,\n    //             isActive: true,\n    //             src: \"../../images/item.png\"\n    //         },\n    //     ],\n    //     background: {\n    //         src:\"../../images/fondo1.png\"\n    //     },\n    //     frontImages: [\n    //         {\n    //             x: 920,\n    //             y: 395,\n    //             w: 175,\n    //             h: 220,\n    //             src: \"../../images/ruin_lamp_01.png\",\n    //         },\n    //         {\n    //             x: 215,\n    //             y: 382,\n    //             w: 180,\n    //             h: 230,\n    //             src: \"../../images/ruin_lamp_01.png\",\n    //         }\n    //     ],\n    //     player : {\n    //         x: 100,\n    //         y: 500\n    //     }\n    // },\n\n    // {\n    //     level: 5,\n    //     platforms: [\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 0,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         },\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 0,\n    //             y: 600,\n    //             w: 1200,\n    //             h: 2\n    //         },\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 1200,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         },\n    //         {\n    //             img: \"../../images/columna1.png\",\n    //             x: 480,\n    //             y: 480,\n    //             w: 100,\n    //             h: 120\n    //         },\n    //         {\n    //             img: \"../../images/columna2.png\",\n    //             x: 600,\n    //             y: 360,\n    //             w: 100,\n    //             h: 240\n    //         },\n    //         {\n    //             img: \"../../images/plat2.png\",\n    //             x: 410,\n    //             y: 260,\n    //             w: 120,\n    //             h: 50\n    //         }\n\n    //     ],\n    //     damageItems: [\n    //         {\n    //             x: 700,\n    //             y: 450,\n    //             w: 200,\n    //             h: 120,\n    //             isActive: true,\n    //             src: \"../../images/spike2.png\"\n    //         }\n    //     ],\n    //     powerItems: [\n    //         {\n    //             x: 430,\n    //             y: 220,\n    //             w: 40,\n    //             h: 40,\n    //             isActive: true,\n    //             src: \"../../images/power1.png\",\n    //             type:\"dash\"\n    //         }\n    //     ],\n    //     collectableItems: [\n    //         {\n    //             x: 490,\n    //             y: 420,\n    //             w: 50,\n    //             h: 50,\n    //             isActive: true,\n    //             src: \"../../images/item.png\"\n    //         },\n    //         {\n    //             x: 640,\n    //             y: 200,\n    //             w: 50,\n    //             h: 50,\n    //             isActive: false,\n    //             src: \"../../images/item.png\"\n    //         },\n    //         {\n    //             x: 1020,\n    //             y: 540,\n    //             w: 50,\n    //             h: 50,\n    //             isActive: false,\n    //             src: \"../../images/item.png\"\n    //         },\n    //     ],\n    //     background: {\n    //         src:\"../../images/fondo2.png\"\n    //     },\n    //     frontImages: [\n    //         {\n    //             x: 180,\n    //             y: 180,\n    //             w: 220,\n    //             h: 620,\n    //             src: \"../../images/abyss1.png\",\n    //         },\n    //         {\n    //             x: 650,\n    //             y: 480,\n    //             w: 320,\n    //             h: 180,\n    //             src: \"../../images/ston313.png\",\n    //         }\n    //     ],\n    //     player : {\n    //         x: 100,\n    //         y: 500\n    //     }\n    // },\n    // {\n    //     level: 10,\n    //     platforms: [\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 0,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         },\n    //         {\n    //             img: \"../../images/transparent.png\",\n    //             x: 0,\n    //             y: 480,\n    //             w: 1200,\n    //             h: 2\n    //         },\n    //         {\n    //             img: \"../../images/black.png\",\n    //             x: 1200,\n    //             y: 0,\n    //             w: 2,\n    //             h: 600\n    //         }\n    //     ],\n    //     collectableItems: [\n    //         {\n    //             x: 590,\n    //             y: 360,\n    //             w: 50,\n    //             h: 50,\n    //             isActive: true,\n    //             src: \"../../images/item.png\"\n    //         },\n    //     ],\n    //     background: {\n    //         src:\"../../images/fondo0_end.png\"\n    //     },\n    //     frontImages: [\n    //         {\n    //             x: 100,\n    //             y: 300,\n    //             w: 150,\n    //             h: 300,\n    //             src: \"../../images/stone8.png\",\n    //         },\n    //         {\n    //             x: 800,\n    //             y: 360,\n    //             w: 175,\n    //             h: 240,\n    //             src: \"../../images/stone7.png\",\n    //         },\n    //         {\n    //             x: 215,\n    //             y: 400,\n    //             w: 180,\n    //             h: 200,\n    //             src: \"../../images/stone6.png\",\n    //         }\n    //     ],\n    //     player : {\n    //         x: 50,\n    //         y: 350\n    //     }\n    // }\n\n]","export default class Images {\n    constructor(ctx, x, y, w, h, src){\n        this.ctx = ctx;\n        this.img = new Image();\n        this.img.src = src;\n        \n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n    }\n\n    draw(){\n        this.ctx.drawImage(this.img, this.x, this.y, this.w, this.h);\n    }\n      \n  }","import Background from \"./Background\";\nimport Player from \"./Player\";\nimport Level from \"./Level\";\nimport Platform from \"./Platform\";\nimport Item from \"./Item\";\nimport totalGame from \"./data.js\";\nimport Images from \"./Images\";\n\n\nexport default class GameController {\n    constructor(){\n        this.canvas = undefined;\n        this.ctx = undefined;\n        this.fps = 100;\n        this.keys = {\n            TOP_KEY: 38,\n            SPACE: 32,\n            LEFT_KEY: 37,\n            RIGHT_KEY: 39,\n            D_KEY: 68,\n            F_KEY: 70\n        };\n        this.platforms = [];\n        this.collectableItems = [];\n        this.damageItems = [];\n        this.powerItems = [];\n        this.currentLevel = 0;\n        this.levels = [];\n        this.frontImages = [];\n        this.backImages = [];\n        this.framesCounter = 0;\n    }\n    \n\n\n    /*\n    Inicio del juego\n    */\n    init(canvasId) {\n        \n        this.canvas = canvasId;\n        this.ctx = this.canvas.getContext(\"2d\");\n        this.fps = 60;\n\n        this.reset();\n\n        //this.song = new Audio(\"./audio/greenpath.mp3\");\n        //var playPromise = this.song.play();\n\n\n        this.background = new Background(this.ctx, this.canvas.width, this.canvas.height);\n        this.player = new Player(this)\n\n        this.loadData();\n        this.loadLevel();\n        \n\n\n        /*\n            Loop de animacion\n        */\n        this.interval = setInterval(function () {\n            this.clear();\n\n            this.framesCounter++;\n\n            // controlamos que frameCounter no sea superior a 1000\n            if (this.framesCounter > 1000) {\n                this.framesCounter = 0;\n            }\n\n            this.player.gravity();\n            this.player.move();\n            this.detectItemCollision();\n            this.detectDamageCollision();\n            this.detectPowerCollision();\n            this.drawAll(this.framesCounter);\n\n        }.bind(this), 1000 / this.fps);\n    }\n\n    //reseteamos todos los elementos del juego para empezar en un estado limpio\n    reset() {\n        this.background = new Background(this.ctx, this.canvas.width, this.canvas.height);\n        this.player = new Player(this)\n        this.framesCounter = 0;\n    }\n\n    //limpieza de la pantalla\n    clear() {\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    }\n\n    drawPlatforms() {\n        this.platforms.forEach(function(platform) {\n            platform.draw();\n        })\n    }\n\n    drawCollectItems(framesCounter) {\n        this.collectableItems.forEach(function (collectItem) {\n            if (collectItem.isActive) {\n                collectItem.draw();\n                collectItem.animateItem(framesCounter);\n            }\n        })\n    }\n\n    drawDamageItems(framesCounter) {\n        this.damageItems.forEach(function (damageItem) {\n            if (damageItem.isActive) {\n                damageItem.draw();\n                damageItem.animateItem(framesCounter);\n            }\n        })\n    }\n\n    drawPowerItems(framesCounter) {\n        this.powerItems.forEach(function (powerItem) {\n            if (powerItem.isActive) {\n                powerItem.draw();\n                powerItem.animateItem(framesCounter);\n            }\n        })\n    }\n\n    drawBackImages() {\n        this.backImages.forEach(function (images) {\n            images.draw();\n        })\n    }\n\n    drawFrontImages() {\n        this.frontImages.forEach(function (images) {\n            images.draw();\n        })\n    }\n\n    drawAll(framesCounter) {\n        this.background.draw();\n        this.drawBackImages()\n        this.drawPlatforms();\n        this.drawCollectItems(framesCounter);\n        this.drawDamageItems(framesCounter);\n        this.drawPowerItems(framesCounter);\n        this.player.draw();\n        this.drawFrontImages()\n    }\n\n    detectItemCollision() {\n        var colItem = this.player.itemColision()\n        if (colItem >= 0) {\n            if (this.collectableItems[colItem].isActive) {\n                this.collectableItems[colItem].isActive = false;\n                this.player.collectableItems.push(this.collectableItems[colItem])\n                if (this.collectableItems.length > colItem + 1) {\n                    this.collectableItems[colItem + 1].isActive = true;\n                } else{\n                    this.changeLevel();\n                }\n            }\n        }\n    }\n\n    detectDamageCollision() {\n        var colItem = this.player.damageColision()\n        if (colItem >= 0) {\n            if (this.damageItems[colItem].isActive) {\n                this.loadLevelData()\n                this.loadLevel();\n            }\n        }\n    }\n\n    detectPowerCollision() {\n        var colItem = this.player.powerColision()\n        if (colItem >= 0) {\n            if (this.powerItems[colItem].isActive) {\n                this.powerItems[colItem].isActive = false;\n                if(this.powerItems[colItem].type == \"dash\"){\n                    this.player.abailableDash = true;\n                }else if(this.powerItems[colItem].type == \"down\"){\n                    this.player.abailableBreakDown = true;\n                }else if(this.powerItems[colItem].type == \"jump\"){\n                    this.player.abailableDoubleJump = true;\n                }\n            }\n        }\n    }\n\n    changeLevel(){\n        this.currentLevel++;\n        if(this.currentLevel < this.levels.length){\n           this.loadLevel();\n        }\n    }\n\n    loadLevel(){\n        this.platforms = this.levels[this.currentLevel].platforms;\n        this.collectableItems = this.levels[this.currentLevel].collectableItems;\n        this.damageItems = this.levels[this.currentLevel].damageItems;\n        this.powerItems = this.levels[this.currentLevel].powerItems;\n        this.backImages = this.levels[this.currentLevel].backImages;\n        this.frontImages = this.levels[this.currentLevel].frontImages;\n        this.background.img.src = this.levels[this.currentLevel].background.img.src;\n        this.player.x = this.levels[this.currentLevel].playerX;\n        this.player.y = this.levels[this.currentLevel].playerY;\n        this.player.abailableDash = false;\n        this.player.abailableBreakDown = false;\n        this.player.abailableDoubleJump = false;\n\n    }\n\n    loadData(){\n        totalGame.forEach(function(level){\n            var nivel = new Level(this)\n\n            //platforms\n            level.platforms.forEach(function(platform){\n                nivel.platforms.push(new Platform(this, platform.img, platform.x, platform.y, platform.w, platform.h, platform.isDashBreakable, platform.isDownBreakable));\n            }.bind(this))\n           \n            //collectable items\n            level.collectableItems.forEach(function(collectableItem){\n                nivel.collectableItems.push(new Item(this.ctx, collectableItem.src, collectableItem.x, collectableItem.y, collectableItem.w, collectableItem.h, collectableItem.isActive))\n            }.bind(this))\n\n             //damage items\n            if(level.damageItems){\n                level.damageItems.forEach(function(damageItem){\n                    nivel.damageItems.push(new Item(this.ctx, damageItem.src, damageItem.x, damageItem.y, damageItem.w, damageItem.h, damageItem.isActive, damageItem.damage))\n                }.bind(this))\n            }\n\n             //power items\n             if(level.powerItems){\n                level.powerItems.forEach(function(powerItem){\n                    nivel.powerItems.push(new Item(this.ctx, powerItem.src, powerItem.x, powerItem.y, powerItem.w, powerItem.h, powerItem.isActive, powerItem.damage, powerItem.type))\n                }.bind(this))\n            }\n\n             //back images\n             if(level.backImages){\n                level.backImages.forEach(function(backImage){\n                    nivel.backImages.push(new Images(this.ctx, backImage.x, backImage.y, backImage.w, backImage.h, backImage.src))\n                }.bind(this))\n            }\n\n            //front images\n            if(level.frontImages){\n                level.frontImages.forEach(function(frontImage){\n                    nivel.frontImages.push(new Images(this.ctx, frontImage.x, frontImage.y, frontImage.w, frontImage.h, frontImage.src))\n                }.bind(this))\n            }\n\n            //background\n            nivel.background = new Background(this.ctx, this.canvas.width, this.canvas.height, level.background.src);\n\n            //player\n            nivel.playerX = level.player.x;\n            nivel.playerY = level.player.y;\n\n\n            this.levels.push(nivel);\n        }.bind(this))\n    }\n\n    loadLevelData(){\n            var nivel = new Level(this)\n\n            //platforms\n            totalGame[this.currentLevel].platforms.forEach(function(platform){\n                nivel.platforms.push(new Platform(this, platform.img, platform.x, platform.y, platform.w, platform.h, platform.isDashBreakable, platform.isDownBreakable));\n            }.bind(this))\n           \n            //collectable items\n            totalGame[this.currentLevel].collectableItems.forEach(function(collectableItem){\n                nivel.collectableItems.push(new Item(this.ctx, collectableItem.src, collectableItem.x, collectableItem.y, collectableItem.w, collectableItem.h, collectableItem.isActive))\n            }.bind(this))\n\n             //damage items\n            if(totalGame[this.currentLevel].damageItems){\n                totalGame[this.currentLevel].damageItems.forEach(function(damageItem){\n                    nivel.damageItems.push(new Item(this.ctx, damageItem.src, damageItem.x, damageItem.y, damageItem.w, damageItem.h, damageItem.isActive, damageItem.damage))\n                }.bind(this))\n            }\n\n             //power items\n             if(totalGame[this.currentLevel].powerItems){\n                totalGame[this.currentLevel].powerItems.forEach(function(powerItem){\n                    nivel.powerItems.push(new Item(this.ctx, powerItem.src, powerItem.x, powerItem.y, powerItem.w, powerItem.h, powerItem.isActive, powerItem.damage, powerItem.type))\n                }.bind(this))\n            }\n\n             //back images\n             if(totalGame[this.currentLevel].backImages){\n                totalGame[this.currentLevel].backImages.forEach(function(backImage){\n                    nivel.backImages.push(new Images(this.ctx, backImage.x, backImage.y, backImage.w, backImage.h, backImage.src))\n                }.bind(this))\n            }\n\n            //front images\n            if(totalGame[this.currentLevel].frontImages){\n                totalGame[this.currentLevel].frontImages.forEach(function(frontImage){\n                    nivel.frontImages.push(new Images(this.ctx, frontImage.x, frontImage.y, frontImage.w, frontImage.h, frontImage.src))\n                }.bind(this))\n            }\n\n            //background\n            nivel.background = new Background(this.ctx, this.canvas.width, this.canvas.height, totalGame[this.currentLevel].background.src);\n\n            //player\n            nivel.playerX = totalGame[this.currentLevel].player.x;\n            nivel.playerY = totalGame[this.currentLevel].player.y;\n\n\n            this.levels[this.currentLevel]=nivel;\n    }\n\n}","import React, { Component } from 'react';\nimport GameController from './GameController';\n\nexport default class Game extends Component{\n    constructor(props){\n        super();\n        this.game = new GameController();\n    }\n    \n    componentDidMount () {\n        this.drawCanvas()\n    }\n\n    componentDidUpdate () {\n        this.drawCanvas()\n    }\n\n    drawCanvas () {\n        const canvas = document.getElementById(\"canvas\")\n        canvas.width = window.innerWidth-50;\n        canvas.height = window.innerHeight-50;\n\n        window.onresize = function(event) {\n            canvas.width = window.innerWidth;\n            canvas.height = window.innerHeight;\n        };\n\n        this.game.init(canvas);\n            \n    }\n\n    render(){\n        return(\n            <div className=\"Game\" id=\"Game\">\n               <canvas id=\"canvas\"></canvas>\n            </div>\n        )\n    }\n\n}","import axios from 'axios';\n\nclass AuthService {\n  constructor() {\n    this.service = axios.create({\n      baseURL: `${process.env.PUBLIC_URL}/auth`,\n      withCredentials: true\n    });\n  }\n\n  signup = (username, password) => {\n      console.log(username)\n    return this.service.post('/signup', {username, password})\n    .then(response => response.data)\n  }\n\n  login = (username, password) => {\n    return this.service.post('/login', {username, password})\n    .then(response => response.data)\n  }\n\n  loggedin = () => {\n    return this.service.get('/currentUser',)\n    .then(response => response.data)\n  }\n\n  logout = () => {\n    return this.service.get('/logout',)\n    .then(response => response.data)\n  }\n}\n\nexport default AuthService;","\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport AuthService from '../AuthService/authService';\n\nclass Navbar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { loggedInUser: null };\n    this.service = new AuthService();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ ...this.state, loggedInUser: nextProps[\"userInSession\"] })\n  }\n\n  handleLogout = (e) => {\n    this.props.logout()\n  }\n\n  render() {\n    if (this.state.loggedInUser) {\n      return (\n        <nav className=\"nav-style\">\n          <ul>\n            <li><a onClick={this.handleLogout}>Logout</a></li>\n          </ul>\n\n          <h2>Welcome, {this.state.loggedInUser.username}</h2>\n        </nav>\n      )\n    } else {\n      return (\n        <div>\n          <nav className=\"nav-style\">\n            <ul>\n            <li><Link to='/signup'>Signup</Link></li>\n            <li><Link to='/login'>Login</Link></li>\n            </ul>\n          </nav>\n        </div>\n      )\n    }\n  }\n}\n\nexport default Navbar;","// auth/Signup.js\nimport React, { Component } from 'react';\nimport AuthService from '../AuthService/authService'\n\n//signup y login son iguales a excepción de el html renderizado y el endpoint de nuestra API rest a la que llamamos\n//uno llama a /signup y el otro a /login usando nuestro AuthService\nclass Signup extends Component {\n  constructor(props){\n    super(props);\n    this.state = { username: '', password: '' };\n    this.service = new AuthService();\n  }\n    \n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const username = this.state.username;\n    const password = this.state.password;\n\n    //aquí llamamos al endpoint /signup de nuestra API Rest usando nuestro AuthService\n    this.service.signup(username, password)\n    .then( response => {\n        this.setState({\n            username: \"\", \n            password: \"\",\n        });\n        //aquí elevamos el nuevo usuario una vez creado a App usando getUser via props\n        //por tanto, informamos a App de que el nuevo usuario ha sido creado, provocando un re-render\n        //y mostrando la parte de contenidos. Mira la función getUser de App para más info (date cuenta de que establece el state de App)\n        this.props.getUser(response.user)\n    })\n    .catch(error => {\n      this.setState({\n        username: username,\n        password: password,\n        error: true\n      });\n    })\n  }\n\n  handleChange = (event) => {  \n    const {name, value} = event.target;\n    this.setState({[name]: value});\n  }\n      \n\n  render() {\n    return(\n      <div>\n        <h3>Welcome!, create your account next:</h3>\n\n        <form onSubmit={this.handleFormSubmit}>\n          <fieldset>\n            <label>Username:</label>\n            <input type=\"text\" name=\"username\" value={this.state.username} onChange={ e => this.handleChange(e)}/>\n          </fieldset>\n          \n          <fieldset>\n            <label>Password:</label>\n            <input type=\"password\" name=\"password\" value={this.state.password} onChange={ e => this.handleChange(e)} />\n          </fieldset>\n          \n          <input type=\"submit\" value=\"Sign up\" />\n        </form>\n\n        <h1>{this.state.error ? 'Error' : ''}</h1>\n      </div>\n    )\n  }\n}\n\nexport default Signup;","// auth/Signup.js\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport AuthService from '../AuthService/authService'\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { username: '', password: '' };\n    this.service = new AuthService();\n  }\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const username = this.state.username;\n    const password = this.state.password;\n\n    this.service.login(username, password)\n      .then(response => {\n        this.setState({\n          username: username,\n          password: password,\n          error: false\n        });\n\n        this.props.getUser(response)\n      })\n      .catch(error => {\n        this.setState({\n          username: username,\n          password: password,\n          error: true\n        });\n      })\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  }\n\n  render() {\n\n    return (<div>\n      <h3>Please, login to our site</h3>\n\n      <form onSubmit={this.handleFormSubmit}>\n        <fieldset>\n          <label>Username:</label>\n          <input type=\"text\" name=\"username\" value={this.state.username} onChange={e => this.handleChange(e)} />\n        </fieldset>\n\n        <fieldset>\n          <label>Password:</label>\n          <input type=\"password\" name=\"password\" value={this.state.password} onChange={e => this.handleChange(e)} />\n        </fieldset>\n\n        <input type=\"submit\" value=\"Login\" />\n      </form>\n\n      <h1>{this.state.error ? 'Error' : ''}</h1>\n    </div>)\n  }\n}\n\nexport default Login;","import axios from 'axios'\n\nconst service = axios.create({\n  baseURL: `${process.env.PUBLIC_URL}`,\n  // withCredentials: true // => you might need this when having the users in the app \n});\n\nconst errorHandler = err => {\n  // console.error(err);\n  if (err.response && err.response.data) {\n    // console.error(\"API response\", err.response.data);\n    throw err.response.data.message\n  }\n  throw err;\n}\n\nexport default {\n  service,\n\n  handleUpload (file) {\n    const formData = new FormData();\n    formData.append(\"imageUrl\", file)\n    return service\n      .post('/admin/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      })\n      .then(res => res.data)\n      .catch(errorHandler);\n  },\n\n  saveNewThing (newThing) {\n    // console.log('new thing is: ', newThing)\n    return service.post('/admin/newPiece', newThing)\n      .then(res => res.data)\n      .catch(errorHandler);\n  },\n\n\n\n\n\n\n\n  // // You can have as many methods as you want\n\n  // //este método se utiliza para obtener desdfe la base de datos, via nuestra API express la información concerniente al user id \n  // //que solicitamos, gracias a pasar el id de usuario que queramos de mongo\n  // getUserdata(id) {\n  //   //utlizamos nuestro servicio de axios para interrogar a nuestra API via GET\n  //   return service\n  //   .get('/users/' + id)\n  //   .then(res => res.data)\n  //   .catch(errHandler);\n  // },\n  \n\n  // //aquí usamos nuesto servicio de axios para pasar la información al back con el nuevo username\n  // //por favor advierte de que estamos comunicándonos con el server via verbo PUT\n  // updateUsername(newUsername) {\n  //   //esta parte es la que me envía la información nueva del usuario al endpoint de actualización\n  //   //este {username: newUsername} es el payload que mandamos al back y con el cual queremos efectuar la actualización\n  //   return service\n  //     .put('/users/update', {username: newUsername})\n  //     .then(res => res.data)\n  //     .catch(errHandler);\n  // },\n\n  // // Method addPicture\n  // addPicture(file) {\n  //   const formData = new FormData();\n  //   formData.append(\"photo\", file)\n  //   return service\n  //     .post('/users/first-user/pictures', formData, {\n  //       headers: {\n  //         'Content-Type': 'multipart/form-data',\n  //       },\n  //     })\n  //     .then(res => res.data)\n  //     .catch(errHandler);\n  // }\n}","import React, { Component } from 'react';\nimport service from '../../api/pieceService';\n\nclass Piece extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            name: \"\",\n            type: \"\",\n            src: \"\",\n            animated:false,\n            frames:0,\n            framesTo:0,\n            framesFrom:0,\n            frameIndex:0,\n            framesX:0,\n            framesY:0,\n            framesW:0,\n            framesH:0,\n            w:1,\n            h:1\n        };\n    }\n\n    handleChange = e => {  \n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    }\n\n    handleChecked = e => {  \n        this.setState({ [e.target.name]: e.target.checked });\n    }\n\n\n  // this method handles just the file upload\n  handleFileUpload = e => {\n    e.preventDefault()\n    \n    console.log(\"The file to be uploaded is: \", e.target.files[0]);\n   \n    // imageUrl => this name has to be the same as in the model since we pass\n    // req.body to .create() method when creating a new thing in '/api/things/create' POST route\n\n    service.handleUpload(e.target.files[0])\n    .then(photoData => {\n        this.setState({\n          ...this.state,\n          src: photoData.url\n        })\n      })\n\n    }\n\n    // this method submits the form\n    handleSubmit = e => {\n        e.preventDefault();\n\n        service.saveNewThing(this.state)\n        .then(res => {\n            console.log('added: ', res);\n            // here you would redirect to some other page \n        })\n        .catch(err => {\n            console.log(\"Error while adding the thing: \", err);\n        });\n    }  \n    render() {\n        return (\n          <div>\n            <h2>New Thing</h2>\n            <form onSubmit={e => this.handleSubmit(e)}>\n                <label>Name</label>\n                <input \n                    type=\"text\" \n                    name=\"name\" \n                    value={ this.state.name } \n                    onChange={ e => this.handleChange(e)} />\n                <label>Type</label>\n                <select name=\"type\" onChange={ e => this.handleChange(e)}>\n                    <option value=\"BACK\">Background</option>\n                    <option value=\"PLATFORM\">Platform</option>\n                    <option value=\"FRONT\">Front Image</option>\n                    <option value=\"IMG\">Back Image</option>\n                    <option value=\"PLAYER\">Player</option>\n                    <option value=\"COLITEM\">Colectable Item</option>\n                    <option value=\"DAMITEM\">Damage Item</option>\n                    <option value=\"POWITEM\">Power Item</option>\n\n                </select>\n                <input \n                    type=\"file\" \n                    onChange={(e) => this.handleFileUpload(e)} /> \n\n                <label>Is animated</label>\n                <input \n                    type=\"checkbox\" \n                    name=\"animated\" \n                    onChange={ e => this.handleChecked(e)} />\n                <div style={{display: this.state.animated ? '' : 'none' }} >\n                    <label>Frames</label>\n                    <input \n                        type=\"number\" \n                        name=\"frames\" \n                        value={ this.state.frames } \n                        onChange={ e => this.handleChange(e)} />\n                    <label>Frames To</label>\n                    <input \n                        type=\"number\" \n                        name=\"framesTo\" \n                        value={ this.state.framesTo } \n                        onChange={ e => this.handleChange(e)} />\n                    <label>Frames From</label>\n                    <input \n                        type=\"number\" \n                        name=\"framesFrom\" \n                        value={ this.state.framesFrom } \n                        onChange={ e => this.handleChange(e)} />\n                    <label>Frame Index</label>\n                    <input \n                        type=\"number\" \n                        name=\"frameIndex\" \n                        value={ this.state.frameIndex } \n                        onChange={ e => this.handleChange(e)} />\n                    <label>Frames X</label>\n                    <input \n                        type=\"number\" \n                        name=\"framesX\" \n                        value={ this.state.framesX } \n                        onChange={ e => this.handleChange(e)} />\n                    <label>Frames Y</label>\n                    <input \n                        type=\"number\" \n                        name=\"framesY\" \n                        value={ this.state.framesY } \n                        onChange={ e => this.handleChange(e)} />\n                    <label>Frames W</label>\n                    <input \n                        type=\"text\" \n                        name=\"framesW\" \n                        value={ this.state.framesW } \n                        onChange={ e => this.handleChange(e)} />\n                    <label>Frames H</label>\n                    <input \n                        type=\"text\" \n                        name=\"framesH\" \n                        value={ this.state.framesH } \n                        onChange={ e => this.handleChange(e)} />\n                </div>\n                <button type=\"submit\">Save new Piece</button>\n            </form>\n          </div>\n        );\n    }\n}\n\nexport default Piece;","import axios from 'axios'\n\nconst service = axios.create({\n  \n  baseURL: `${process.env.PUBLIC_URL}/level`,\n  // withCredentials: true // => you might need this when having the users in the app \n});\n\nconst errorHandler = err => {\n  // console.error(err);\n  if (err.response && err.response.data) {\n    // console.error(\"API response\", err.response.data);\n    throw err.response.data.message\n  }\n  throw err;\n}\n\nexport default {\n  service,\n\n  getPieces(type) {\n    return service.get('/pieces', {\n        params: {\n            type\n        }})\n      .then(res => res.data)\n      .catch(errorHandler);\n  },\n\n  saveNewLevel (level) {\n    return service.post('/save', level)\n      .then(res => res.data)\n      .catch(errorHandler);\n  },\n}\n\n","import React, { Component } from 'react';\nimport './LevelCreator.css';\nimport service from '../../api/levelService';\n\nclass LevelCreator extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            level:{\n                creator : this.props.loggedInUser._id,\n                platforms : [],\n                collectableItems : [],\n                damageItems : [],\n                powerItems : [],\n                frontImages:[],\n                backImages:[],\n                background : \"\",\n                playerX : 0,\n                playerY : 0\n            },\n            type: \"\",\n            pieces:[],\n            selectedPiece:{}\n        };\n    }\n\n    handleChange = e => {  \n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    }\n\n    handleSelectChange = e => {  \n        const { name, value } = e.target;\n        this.setState({ [name]: value }, ()=>{\n            service.getPieces(this.state.type)\n            .then(pieces => {\n                this.setState({\n                    ...this.state,\n                    pieces: pieces.data.pieces\n                })\n                })\n            }\n        );\n    }\n\n    handlePieceSelection = (e, item) => { \n        this.setState({\n            ...this.state,\n            selectedPiece: item \n        });\n    }\n\n    mouseEnter(e) {\n        e.target.style.backgroundImage += `url(${this.state.selectedPiece.src})`;\n        e.target.style.backgroundSize = \"cover\";\n        e.target.style.backgroundRepeat = \"no-repeat\";\n        e.target.style.backgroundPosition = \"center center\";\n    }\n    \n    mouseLeave(e) {\n        if(!e.target.isSelected){\n            e.target.style.backgroundImage = ``\n        }\n    }\n\n    mouseClick(e) {\n        if(this.state.selectedPiece.type){\n            e.target.isSelected=true\n            e.target.style.backgroundImage = `url(${this.state.selectedPiece.src})`;\n            console.log(this.state)\n            switch(this.state.selectedPiece.type) {\n                case \"BACK\":\n                    this.setState({\n                        ...this.state,\n                        level:{\n                            ...this.state.level,\n                            background:{\n                                ...this.state.level.background,\n                                src:this.state.selectedPiece.src\n                            }\n                        },\n                    });\n\n                  break;\n                case \"PLATFORM\":\n                    let newPlatform = { \n                        piece:this.state.selectedPiece._id ,\n                        x: Number(e.target.getAttribute(\"column\")),\n                        y: Number(e.target.getAttribute(\"row\")),\n                        w: 1,\n                        h: 1\n                    }\n                    let newPlatforms = [...this.state.level.platforms]\n                    newPlatforms.push(newPlatform)\n                    this.setState({\n                        ...this.state,\n                        level:{\n                            ...this.state.level,\n                            platforms:newPlatforms\n                        }\n                    });\n                  break;\n                case \"FRONT\":\n                    let newFrontImage = { \n                        piece:this.state.selectedPiece._id ,\n                        x: Number(e.target.getAttribute(\"column\")),\n                        y: Number(e.target.getAttribute(\"row\")),\n                        w: 1,\n                        h: 1\n                    }\n                    let newFrontImages = [...this.state.level.frontImages]\n                    newFrontImages.push(newFrontImage)\n                    this.setState({\n                        ...this.state,\n                        level:{\n                            ...this.state.level,\n                            frontImages:newFrontImages\n                        }\n                    });\n                  break;\n\n                case \"IMG\":\n                    let newBackImage = { \n                        piece:this.state.selectedPiece._id ,\n                        x: Number(e.target.getAttribute(\"column\")),\n                        y: Number(e.target.getAttribute(\"row\")),\n                        w: 1,\n                        h: 1\n                    }\n                    let newBackImages = [...this.state.level.backImages]\n                    newBackImages.push(newBackImage)\n                    this.setState({\n                        ...this.state,\n                        level:{\n                            ...this.state.level,\n                            backImages:newBackImages\n                        }\n                    });\n                  break;\n\n                case \"PLAYER\":\n                    let newPlayer = { \n                        piece:this.state.selectedPiece._id ,\n                        x: Number(e.target.getAttribute(\"column\")),\n                        y: Number(e.target.getAttribute(\"row\")),\n                        w: 1,\n                        h: 1\n                    }\n                    this.setState({\n                        ...this.state,\n                        level:{\n                            ...this.state.level,\n                            player:newPlayer\n                        }\n                    });\n                  break;\n                case \"COLITEM\":\n                  // code block\n                  break;\n                case \"DAMITEM\":\n                  // code block\n                  break;\n                case \"POWITEM\":\n                  // code block\n                  break;\n                default:\n                  // code block\n              }\n        }\n    }\n\n    handleSubmit = e => {\n        e.preventDefault();\n        console.log(this.state.level);\n        service.saveNewLevel(this.state.level)\n        .then(res => {\n            console.log('added: ', res);\n        })\n        .catch(err => {\n            console.log(\"Error while adding the thing: \", err);\n        });\n    }  \n\n    render() {\n        let resArrX=[]\n        let resArrY=[]\n        let component = \"\"\n        const arrW=24\n        const arrH=12\n\n        var cellStyle = {\n            backgroundColor: 'beige',\n            border:'1px solid grey',           \n        }\n\n        for(var i=arrH-1; i>=0; i--){\n            resArrY=[]\n            for(var j=0; j<arrW; j++){\n                resArrY.push(\n                <div key={i+\"-\"+j} className=\"cell\" row={i} column={j}  isSelected={false} style={cellStyle}\n                onMouseEnter={e=>this.mouseEnter(e)} onMouseLeave={e => this.mouseLeave(e)}\n                onClick={e=>this.mouseClick(e)}>\n                </div>)\n            }\n            resArrX.push(resArrY)\n        }\n\n        var divStyle = {\n            display: 'grid',\n            gridTemplateColumns: `repeat(${arrW},1fr)`,\n            gridTemplateRows: `repeat(2fr)`,\n            width:'70vw',\n            height:'50vh'\n        }\n\n        let piecesList = this.state.pieces.map((item, i)=>{\n            return (\n            <li key={i}><div><span>{item.name}</span><img src={item.src} onClick={e => this.handlePieceSelection(e, item)} alt={item.name}/></div></li>\n            )\n        })\n\n        return (\n          <div className=\"LevelCreator\" id=\"LevelCreator\">\n            <form onSubmit={e => this.handleSubmit(e)}>\n                <button type=\"submit\">Save new Level</button>\n            </form>\n             <select name=\"type\" onChange={ e => this.handleSelectChange(e)}>\n                <option value=\"BACK\">Background</option>\n                <option value=\"PLATFORM\">Platform</option>\n                <option value=\"FRONT\">Front Image</option>\n                <option value=\"IMG\">Back Image</option>\n                <option value=\"PLAYER\">Player</option>\n                <option value=\"COLITEM\">Colectable Item</option>\n                <option value=\"DAMITEM\">Damage Item</option>\n                <option value=\"POWITEM\">Power Item</option>\n            </select>\n            <div>\n                <ul>{piecesList}</ul>\n            </div>\n            <div className=\"container\" style={divStyle}>{resArrX}</div>\n          </div>\n        );\n    }\n}\n\nexport default LevelCreator;","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { Switch, Route } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport Game from './components/Game/Game';\n// import ProjectList from './components/projects/ProjectList';\nimport AuthService from './components/AuthService/authService';\nimport Navbar from './components/Navbar/Navbar';\nimport Signup from './components/Auth/Signup';\nimport Login from './components/Auth/Login';\nimport Piece from './components/Piece/Piece';\nimport LevelCreator from './components/LevelCreator/LevelCreator';\n// import ProjectDetails from './components/projects/ProjectDetails';\n\n\n//App es la aplicación base, que se sirve del servicio AuthService para conectar con la bbdd\nclass App extends Component {\n\n  //en el tiempo de construcción de la aplicación, creamos una instancia del authservice\n  constructor(props){\n    super(props)\n    //arrancamos el estado con un valor de loggedInUser con nada (luego lo vamos a reemplazar con el valor real)\n    this.state = { loggedInUser: null };\n    this.service = new AuthService();\n  }\n\n  getUser= (userObj) => {\n    this.setState({\n      loggedInUser: userObj\n    })\n  }\n\n  logout = () => {\n    this.service.logout()\n    .then(() => {\n      this.setState({ loggedInUser: null });\n    })\n  }\n\n  //este método vuelca la información del usuario y lo guarda en el state de app que siempre puedes revisitar\n  fetchUser(){\n    if( this.state.loggedInUser === null ){\n\n      //utilizamos el método loggedin para cualquier momento que deseemos obtener la información del usuario quede guardada en el state de app\n      this.service.loggedin()\n      .then(response =>{\n        this.setState({\n          loggedInUser:  response\n        }) \n      })\n      .catch( err =>{\n        this.setState({\n          loggedInUser:  false\n        }) \n      })\n    }\n  }\n\n  render() {\n    //al hacer render, almacenamos la información del usuario existente en el state de app\n    this.fetchUser()\n\n    //aqui hacemos rendering condicional dependiendo de si tenemos un usuario logeado o no\n    if(this.state.loggedInUser){\n      //en este caso mostramos los contenidos ya que hay usuario\n      return (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <Navbar userInSession={this.state.loggedInUser} logout={this.logout} />\n            <Switch>\n              <Route path='/generate' component={() => <LevelCreator loggedInUser={this.state.loggedInUser} />}/>\n              <Route path='/piece' component={() => <Piece loggedInUser={this.state.loggedInUser} />}/>\n            </Switch>\n          </header>\n          <div>\n            <Link to='/generate'>Create New Level</Link>\n            <Link to='/piece'>Add new Piece</Link>\n          </div>\n          \n        </div>\n      );\n    } else {\n      //si no estás logeado, mostrar opcionalmente o login o signup\n      return (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <Navbar userInSession={this.state.loggedInUser} logout={this.logout} />\n            <Switch>\n              <Route exact path='/signup' render={() => <Signup getUser={this.getUser}/>}/>\n              <Route exact path='/login' render={() => <Login getUser={this.getUser}/>}/>\n            </Switch>\n          </header>\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}